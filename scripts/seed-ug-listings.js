const { createClient } = require('@supabase/supabase-js')
const fs = require('fs')

// Ensure env vars are loaded (helps in dev without dotenv)
try {
  const envPath = './.env.local'
  if (fs.existsSync(envPath)) {
    const raw = fs.readFileSync(envPath, 'utf8')
    raw.split(/\r?\n/).forEach((line) => {
      const m = line.match(/^\s*([A-Za-z0-9_]+)\s*=\s*(.*)\s*$/)
      if (!m) return
      let [, key, val] = m
      if ((val.startsWith('"') && val.endsWith('"')) || (val.startsWith("'") && val.endsWith("'"))) {
        val = val.slice(1, -1)
      }
      if (!process.env[key]) process.env[key] = val
    })
  }
} catch (error) {
  // ignore
}

const supabaseUrl = process.env.SUPABASE_URL || process.env.NEXT_PUBLIC_SUPABASE_URL
const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY

if (!supabaseUrl || !supabaseKey) {
  console.error('Please set SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY before running this script.')
  process.exit(1)
}

const supabase = createClient(supabaseUrl, supabaseKey)

const rawListings = [
  {
    id: 'seed-ug-0001',
    listing_type: 'rent',
    make: 'Toyota',
    model: 'Land Cruiser 300',
    year: 2024,
    trim: 'ZX',
    price: 920000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.toyota.co.ug/content/dam/toyota/uganda/global/vehicles/land-cruiser-300/2024/exterior-1.jpg',
    source_url: 'https://www.toyota.co.ug/en/vehicles/toyota-uganda/land-cruiser-300',
    description: 'Full-size 4x4 SUV, luxurious cabin, 7 seats.',
  },
  {
    id: 'seed-ug-0002',
    listing_type: 'sale',
    make: 'Toyota',
    model: 'Land Cruiser 200',
    year: 2016,
    trim: 'VX',
    price: 265000000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://media.toyota.co.uk/vehicles/land-cruiser-archive-2010/exterior-front-3.jpg',
    source_url: 'https://media.toyota.co.uk/vehicles/land-cruiser-archive-2010/',
    description: 'Legendary diesel V8 SUV with strong off-road ability.',
  },
  {
    id: 'seed-ug-0003',
    listing_type: 'rent',
    make: 'Nissan',
    model: 'Patrol Y62',
    year: 2022,
    trim: 'Platinum',
    price: 780000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.nissan.ae/content/dam/Nissan/vehicles/patrol/gallery/2022/exterior/front-01.jpg',
    source_url: 'https://www.nissan.ae/vehicles/patrol.html',
    description: 'Full-size luxury SUV with a powerful V8.',
  },
  {
    id: 'seed-ug-0004',
    listing_type: 'sale',
    make: 'Land Rover',
    model: 'Defender 110',
    year: 2021,
    trim: 'SE',
    price: 360000000,
    currency: 'UGX',
    location: 'Mbarara, Uganda',
    availability: true,
    image_url: 'https://www.landrover.co.uk/content/dam/land-rover/vehicles/defender/2021/gallery/defender-110-exterior-front.jpg',
    source_url: 'https://www.landrover.co.uk/vehicles/defender/index.html',
    description: 'Modern rugged 4x4 with premium interior.',
  },
  {
    id: 'seed-ug-0005',
    listing_type: 'rent',
    make: 'Toyota',
    model: 'Hilux',
    year: 2019,
    trim: 'SR5',
    price: 240000,
    currency: 'UGX',
    location: 'Entebbe, Uganda',
    availability: true,
    image_url: 'https://www.toyota.co.ug/content/dam/toyota/uganda/global/vehicles/hilux/2019/exterior-1.jpg',
    source_url: 'https://www.toyota.co.ug/en/vehicles/toyota-uganda/hilux',
    description: 'Reliable diesel pickup with 4x4 capability.',
  },
  {
    id: 'seed-ug-0006',
    listing_type: 'sale',
    make: 'Toyota',
    model: 'Prado 150',
    year: 2017,
    trim: 'TX-L',
    price: 210000000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/album/images/23825616/land-cruiser-prado-150-exterior.jpg',
    source_url: 'https://global.toyota/en/album/images/23825616/',
    description: 'Comfortable mid-size 4x4 SUV with diesel engine.',
  },
  {
    id: 'seed-ug-0007',
    listing_type: 'rent',
    make: 'Ford',
    model: 'Ranger',
    year: 2021,
    trim: 'Wildtrak',
    price: 260000,
    currency: 'UGX',
    location: 'Gulu, Uganda',
    availability: true,
    image_url: 'https://www.ford.co.za/content/dam/guxeu/za/vehicles/ranger/2021/images/ranger-wildtrak-front.jpg',
    source_url: 'https://www.ford.co.za/trucks/ranger/',
    description: 'Diesel pickup with strong towing and off-road capability.',
  },
  {
    id: 'seed-ug-0008',
    listing_type: 'sale',
    make: 'Isuzu',
    model: 'D-Max',
    year: 2018,
    trim: 'LS-A',
    price: 118000000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.isuzu.co.ug/content/dam/isuzu/vehicles/d-max/2018/exterior-1.jpg',
    source_url: 'https://www.isuzu.co.ug/models/d-max',
    description: 'Economical and durable diesel pickup.',
  },
  {
    id: 'seed-ug-0009',
    listing_type: 'rent',
    make: 'Mitsubishi',
    model: 'Pajero Sport',
    year: 2020,
    trim: 'GLS',
    price: 300000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.mitsubishi-motors.com/en/products/pajero_sport/img/01_exterior.jpg',
    source_url: 'https://www.mitsubishi-motors.com/en/products/pajero_sport/',
    description: '7-seater diesel SUV with modern tech.',
  },
  {
    id: 'seed-ug-0010',
    listing_type: 'sale',
    make: 'Mazda',
    model: 'CX-5',
    year: 2019,
    trim: 'Takumi',
    price: 85000000,
    currency: 'UGX',
    location: 'Mbarara, Uganda',
    availability: true,
    image_url: 'https://www.mazda.com/en/cars/cx-5/gallery/img/exterior01.jpg',
    source_url: 'https://www.mazda.com/en/cars/cx-5/',
    description: 'Compact crossover with premium features.',
  },
  {
    id: 'seed-ug-0011',
    listing_type: 'rent',
    make: 'Hyundai',
    model: 'Santa Fe',
    year: 2021,
    trim: 'Premium',
    price: 190000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.hyundai.com/content/dam/hyundai/ww/en/data/find-a-vehicle/2021/santa-fe/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.hyundai.com/worldwide/en/find-a-vehicle/santa-fe',
    description: 'Mid-size family SUV with efficient engines.',
  },
  {
    id: 'seed-ug-0012',
    listing_type: 'sale',
    make: 'Kia',
    model: 'Sportage',
    year: 2018,
    trim: 'GT-Line',
    price: 65000000,
    currency: 'UGX',
    location: 'Entebbe, Uganda',
    availability: true,
    image_url: 'https://www.kia.com/content/dam/kwp/gb/en/models/sportage/4th-generation/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.kia.com/gb/models/sportage/',
    description: 'Efficient compact crossover SUV.',
  },
  {
    id: 'seed-ug-0013',
    listing_type: 'sale',
    make: 'BMW',
    model: 'X5',
    year: 2017,
    trim: 'xDrive40e',
    price: 155000000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.bmw.com/content/dam/bmw/common/all-models/x-series/x5/2017/highlights/bmw-x5-highlights-exterior-01.jpg',
    source_url: 'https://www.bmw.com/en/all-models/x-series/x5/2017.html',
    description: 'Premium hybrid SUV with AWD.',
  },
  {
    id: 'seed-ug-0014',
    listing_type: 'sale',
    make: 'Mercedes-Benz',
    model: 'GLE',
    year: 2019,
    trim: '300d',
    price: 190000000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.mercedes-benz.com/en/vehicles/passenger-cars/gle/_jcr_content/root/slider/sliderchild/slide_0/image/MQ6-0-image-mercedes-benz-gle-2019-01.jpeg',
    source_url: 'https://www.mercedes-benz.com/en/vehicles/passenger-cars/gle/',
    description: 'Luxury SUV with diesel efficiency.',
  },
  {
    id: 'seed-ug-0015',
    listing_type: 'sale',
    make: 'Jeep',
    model: 'Wrangler JL',
    year: 2018,
    trim: 'Unlimited Sahara',
    price: 105000000,
    currency: 'UGX',
    location: 'Entebbe, Uganda',
    availability: true,
    image_url: 'https://www.jeep.com/content/dam/fca-brands/na/jeep/en_us/2020/wrangler/2020-wrangler-unlimited-sahara-exterior.jpg',
    source_url: 'https://www.jeep.com/wrangler.html',
    description: 'Off-road SUV with removable roof panels.',
  },
  {
    id: 'seed-ug-0016',
    listing_type: 'rent',
    make: 'Subaru',
    model: 'Outback',
    year: 2020,
    trim: 'Limited',
    price: 160000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.subaru.com/content/dam/subaru/vehicles/outback/2020/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.subaru.com/vehicles/outback/index.html',
    description: 'AWD crossover wagon built for adventure.',
  },
  {
    id: 'seed-ug-0017',
    listing_type: 'sale',
    make: 'Volkswagen',
    model: 'Tiguan',
    year: 2019,
    trim: 'Highline',
    price: 78000000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.vw.com/content/dam/onehub/us/en/vehicles/tiguan/2019/gallery/exterior/tiguan-exterior-01.jpg',
    source_url: 'https://www.vw.com/en/models/tiguan.html',
    description: 'Efficient compact SUV with modern features.',
  },
  {
    id: 'seed-ug-0018',
    listing_type: 'sale',
    make: 'Chevrolet',
    model: 'Tahoe',
    year: 2015,
    trim: 'LT',
    price: 130000000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.chevrolet.com/content/dam/chevrolet/na/us/english/index/suvs/2015-tahoe/01-images/2015-tahoe-exterior-01.jpg',
    source_url: 'https://www.chevrolet.com/suvs/tahoe',
    description: 'Full-size V8 SUV with massive cargo space.',
  },
  {
    id: 'seed-ug-0019',
    listing_type: 'rent',
    make: 'Lexus',
    model: 'LX 570',
    year: 2019,
    trim: 'Base',
    price: 880000,
    currency: 'UGX',
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.lexus.eu/content/dam/lexus/images/models/lx/2019/overview/LX_2019_exterior_01.jpg',
    source_url: 'https://www.lexus.com/models/LX',
    description: 'Ultra-luxury V8 SUV, king of comfort.',
  },
  {
    id: 'seed-ug-0020',
    listing_type: 'sale',
    make: 'Suzuki',
    model: 'Jimny',
    year: 2018,
    trim: 'SZ5',
    price: 48000000,
    currency: 'UGX',
    location: 'Gulu, Uganda',
    availability: true,
    image_url: 'https://www.globalsuzuki.com/auto-model/img/jimny/gallery/exterior.jpg',
    source_url: 'https://www.globalsuzuki.com/auto-model/lineup/jimny/',
    description: 'Compact mountain goat with true 4x4 ability.',
  },
  {
    id: 'seed-ug-0021',
    listing_type: 'sale',
    make: 'Toyota',
    model: 'RAV4',
    year: 2018,
    trim: 'XLE',
    price: 78000000,
    currency: 'UGX',
    mileage_km: 95000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/newsroom/toyota/24785387/001.jpg',
    source_url: 'https://global.toyota/en/newsroom/toyota/24785387/',
    description: 'Compact SUV, efficient petrol engine, family-friendly.',
    tags: ['suv', 'compact', 'automatic'],
  },
  {
    id: 'seed-ug-0022',
    listing_type: 'rent',
    make: 'Toyota',
    model: 'Noah',
    year: 2020,
    trim: 'Hybrid',
    price: 140000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Entebbe, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/newsroom/toyota/35394841/001.jpg',
    source_url: 'https://global.toyota/en/newsroom/toyota/35394841/',
    description: 'Hybrid 7-seater minivan with excellent fuel economy.',
    tags: ['van', 'hybrid', '7-seater'],
  },
  {
    id: 'seed-ug-0023',
    listing_type: 'sale',
    make: 'Toyota',
    model: 'Wish',
    year: 2014,
    trim: 'S',
    price: 48000000,
    currency: 'UGX',
    mileage_km: 120000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/newsroom/toyota/24355191/001.jpg',
    source_url: 'https://global.toyota/en/newsroom/toyota/24355191/',
    description: 'Reliable 7-seater MPV, popular for family and Uber use.',
    tags: ['mpv', '7-seater', 'automatic'],
  },
  {
    id: 'seed-ug-0024',
    listing_type: 'rent',
    make: 'Toyota',
    model: 'Alphard',
    year: 2019,
    trim: 'Executive Lounge',
    price: 350000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/newsroom/toyota/24355449/001.jpg',
    source_url: 'https://global.toyota/en/newsroom/toyota/24355449/',
    description: 'Luxury business-class minivan with premium seating.',
    tags: ['mpv', 'luxury', '7-seater'],
  },
  {
    id: 'seed-ug-0025',
    listing_type: 'sale',
    make: 'Toyota',
    model: 'Harrier',
    year: 2017,
    trim: 'Premium',
    price: 98000000,
    currency: 'UGX',
    mileage_km: 82000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/newsroom/toyota/24355532/001.jpg',
    source_url: 'https://global.toyota/en/newsroom/toyota/24355532/',
    description: 'Luxury crossover with refined suspension and features.',
    tags: ['suv', 'luxury', 'automatic'],
  },
  {
    id: 'seed-ug-0026',
    listing_type: 'rent',
    make: 'Toyota',
    model: 'Hiace Drone',
    year: 2020,
    trim: 'Touring',
    price: 220000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/newsroom/toyota/32900643/001.jpg',
    source_url: 'https://global.toyota/en/newsroom/toyota/32900643/',
    description: 'Touring van ideal for group travel and safaris.',
    tags: ['van', 'tour', '14-seater'],
  },
  {
    id: 'seed-ug-0027',
    listing_type: 'sale',
    make: 'Honda',
    model: 'CR-V',
    year: 2018,
    trim: 'EX-L',
    price: 72000000,
    currency: 'UGX',
    mileage_km: 98000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.honda/content/dam/site/global/automobile/cr-v/2018/gallery/exterior/exterior-01.jpg',
    source_url: 'https://global.honda/automobiles/cr-v.html',
    description: 'Reliable compact SUV with spacious interior.',
    tags: ['suv', 'compact', 'automatic'],
  },
  {
    id: 'seed-ug-0028',
    listing_type: 'rent',
    make: 'Honda',
    model: 'Fit',
    year: 2019,
    trim: 'Hybrid',
    price: 90000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Entebbe, Uganda',
    availability: true,
    image_url: 'https://global.honda/content/dam/site/global/automobile/fit/2019/gallery/exterior/exterior-01.jpg',
    source_url: 'https://global.honda/automobiles/fit.html',
    description: 'Fuel-efficient hatchback perfect for city driving.',
    tags: ['hatchback', 'hybrid', 'compact'],
  },
  {
    id: 'seed-ug-0029',
    listing_type: 'sale',
    make: 'Honda',
    model: 'Vezel',
    year: 2017,
    trim: 'Hybrid S',
    price: 61000000,
    currency: 'UGX',
    mileage_km: 88000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.honda/content/dam/site/global/automobile/vezel/2017/gallery/exterior/exterior-01.jpg',
    source_url: 'https://global.honda/automobiles/vezel.html',
    description: 'Hybrid compact crossover with premium styling.',
    tags: ['suv', 'hybrid', 'compact'],
  },
  {
    id: 'seed-ug-0030',
    listing_type: 'rent',
    make: 'Kia',
    model: 'Sorento',
    year: 2021,
    trim: 'EX',
    price: 260000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.kia.com/content/dam/kwp/ww/en/images/vehicles/sorento/my21/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.kia.com/worldwide/vehicles/sorento',
    description: 'Three-row family SUV with advanced safety tech.',
    tags: ['suv', '7-seater', 'automatic'],
  },
  {
    id: 'seed-ug-0031',
    listing_type: 'sale',
    make: 'Kia',
    model: 'Seltos',
    year: 2020,
    trim: 'EX',
    price: 62000000,
    currency: 'UGX',
    mileage_km: 57000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.kia.com/content/dam/kwp/ww/en/images/vehicles/seltos/my20/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.kia.com/worldwide/vehicles/seltos',
    description: 'Compact stylish crossover with modern tech.',
    tags: ['suv', 'compact', 'automatic'],
  },
  {
    id: 'seed-ug-0032',
    listing_type: 'rent',
    make: 'Hyundai',
    model: 'Tucson',
    year: 2020,
    trim: 'GLS',
    price: 180000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Entebbe, Uganda',
    availability: true,
    image_url: 'https://www.hyundai.com/content/dam/hyundai/ww/en/data/find-a-vehicle/tucson/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.hyundai.com/worldwide/en/find-a-vehicle/tucson',
    description: 'Crossover SUV with great fuel economy.',
    tags: ['suv', 'compact', 'automatic'],
  },
  {
    id: 'seed-ug-0033',
    listing_type: 'sale',
    make: 'Hyundai',
    model: 'Elantra',
    year: 2018,
    trim: 'GLS',
    price: 38000000,
    currency: 'UGX',
    mileage_km: 96000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.hyundai.com/content/dam/hyundai/ww/en/data/find-a-vehicle/elantra/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.hyundai.com/worldwide/en/find-a-vehicle/elantra',
    description: 'Reliable sedan with excellent fuel efficiency.',
    tags: ['sedan', 'compact', 'automatic'],
  },
  {
    id: 'seed-ug-0034',
    listing_type: 'sale',
    make: 'Subaru',
    model: 'Forester',
    year: 2017,
    trim: '2.0XT',
    price: 72000000,
    currency: 'UGX',
    mileage_km: 112000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.subaru-global.com/common/img/lineup/forester/gallery/pic_exterior_01.jpg',
    source_url: 'https://www.subaru-global.com/vehicles/forester/',
    description: 'AWD SUV with turbocharged performance.',
    tags: ['suv', 'awd', 'turbo'],
  },
  {
    id: 'seed-ug-0035',
    listing_type: 'rent',
    make: 'Subaru',
    model: 'XV',
    year: 2020,
    trim: 'Premium',
    price: 150000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Mbarara, Uganda',
    availability: true,
    image_url: 'https://www.subaru-global.com/common/img/lineup/xv/gallery/pic_exterior_01.jpg',
    source_url: 'https://www.subaru-global.com/vehicles/xv/',
    description: 'Compact AWD crossover ideal for Ugandan roads.',
    tags: ['awd', 'crossover', 'compact'],
  },
  {
    id: 'seed-ug-0036',
    listing_type: 'sale',
    make: 'BMW',
    model: 'X3',
    year: 2018,
    trim: 'xDrive30i',
    price: 125000000,
    currency: 'UGX',
    mileage_km: 78000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.bmw.com/content/dam/bmw/common/all-models/x-series/x3/2018/highlights/bmw-x3-exterior-01.jpg',
    source_url: 'https://www.bmw.com/en/all-models/x-series/x3/2018.html',
    description: 'Luxury compact SUV with AWD.',
    tags: ['suv', 'luxury', 'awd'],
  },
  {
    id: 'seed-ug-0037',
    listing_type: 'sale',
    make: 'Ford',
    model: 'Everest',
    year: 2017,
    trim: 'Trend',
    price: 118000000,
    currency: 'UGX',
    mileage_km: 123000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.ford.com.au/content/dam/Ford/website-assets/ap/australia/nameplate/everest/2017/features/exterior/exterior-front.jpg',
    source_url: 'https://www.ford.com.au/suv/everest/',
    description: 'Large 7-seater diesel SUV ideal for overland trips.',
    tags: ['suv', '7-seater', 'diesel'],
  },
  {
    id: 'seed-ug-0038',
    listing_type: 'rent',
    make: 'Isuzu',
    model: 'MU-X',
    year: 2019,
    trim: 'LS-T',
    price: 240000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Gulu, Uganda',
    availability: true,
    image_url: 'https://www.isuzu-ute.com.au/-/media/models/mu-x/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.isuzu-ute.com.au/mu-x',
    description: 'Dependable diesel SUV with 7 seats.',
    tags: ['suv', 'diesel', '7-seater'],
  },
  {
    id: 'seed-ug-0039',
    listing_type: 'sale',
    make: 'Volkswagen',
    model: 'Touareg',
    year: 2016,
    trim: 'V6 TDI',
    price: 135000000,
    currency: 'UGX',
    mileage_km: 130000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.vw.com/content/dam/onehub/us/en/vehicles/touareg/gallery/exterior/touareg-exterior-01.jpg',
    source_url: 'https://www.vw.com/en/models/touareg.html',
    description: 'Premium diesel SUV with 4Motion AWD.',
    tags: ['suv', 'diesel', 'luxury'],
  },
  {
    id: 'seed-ug-0040',
    listing_type: 'rent',
    make: 'Jeep',
    model: 'Grand Cherokee',
    year: 2020,
    trim: 'Limited',
    price: 320000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Entebbe, Uganda',
    availability: true,
    image_url: 'https://www.jeep.com/content/dam/fca-brands/na/jeep/en_us/2020/grand-cherokee/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.jeep.com/grand-cherokee.html',
    description: 'Luxury 4x4 SUV with strong off-road capability.',
    tags: ['suv', 'luxury', '4x4'],
  },
  {
    id: 'seed-ug-0041',
    listing_type: 'sale',
    make: 'Toyota',
    model: 'Corolla Axio',
    year: 2015,
    trim: 'G',
    price: 35000000,
    currency: 'UGX',
    mileage_km: 115000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/newsroom/toyota/24354848/001.jpg',
    source_url: 'https://global.toyota/en/newsroom/toyota/24354848/',
    description: 'Reliable fuel-efficient sedan.',
    tags: ['sedan', 'automatic', 'compact'],
  },
  {
    id: 'seed-ug-0042',
    listing_type: 'rent',
    make: 'Toyota',
    model: 'Corolla Cross',
    year: 2022,
    trim: 'Hybrid',
    price: 180000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/newsroom/toyota/33800209/001.jpg',
    source_url: 'https://global.toyota/en/newsroom/toyota/33800209/',
    description: 'Hybrid crossover SUV with modern tech.',
    tags: ['suv', 'hybrid', 'compact'],
  },
  {
    id: 'seed-ug-0043',
    listing_type: 'sale',
    make: 'Suzuki',
    model: 'Swift',
    year: 2019,
    trim: 'GLX',
    price: 32000000,
    currency: 'UGX',
    mileage_km: 69000,
    location: 'Mbarara, Uganda',
    availability: true,
    image_url: 'https://www.globalsuzuki.com/automobile/lineup/swift/img/gallery/exterior01.jpg',
    source_url: 'https://www.globalsuzuki.com/automobile/lineup/swift/',
    description: 'Compact hatchback with agile handling.',
    tags: ['hatchback', 'compact', 'automatic'],
  },
  {
    id: 'seed-ug-0044',
    listing_type: 'rent',
    make: 'Suzuki',
    model: 'Vitara',
    year: 2021,
    trim: 'GLX',
    price: 140000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.globalsuzuki.com/automobile/lineup/vitara/img/gallery/exterior01.jpg',
    source_url: 'https://www.globalsuzuki.com/automobile/lineup/vitara/',
    description: 'Compact SUV with efficient engines.',
    tags: ['suv', 'compact', 'automatic'],
  },
  {
    id: 'seed-ug-0045',
    listing_type: 'sale',
    make: 'Toyota',
    model: 'Mark X',
    year: 2012,
    trim: '250G',
    price: 52000000,
    currency: 'UGX',
    mileage_km: 132000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/newsroom/toyota/24355071/001.jpg',
    source_url: 'https://global.toyota/en/newsroom/toyota/24355071/',
    description: 'Sporty V6 sedan, rear-wheel drive.',
    tags: ['sedan', 'v6', 'automatic'],
  },
  {
    id: 'seed-ug-0046',
    listing_type: 'rent',
    make: 'Toyota',
    model: 'Premio',
    year: 2014,
    trim: '1.8X',
    price: 110000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Entebbe, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/newsroom/toyota/24354985/001.jpg',
    source_url: 'https://global.toyota/en/newsroom/toyota/24354985/',
    description: 'Comfortable sedan popular for hire.',
    tags: ['sedan', 'automatic', 'compact'],
  },
  {
    id: 'seed-ug-0047',
    listing_type: 'sale',
    make: 'Nissan',
    model: 'X-Trail',
    year: 2017,
    trim: '20X',
    price: 67000000,
    currency: 'UGX',
    mileage_km: 113000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.nissan-global.com/EN/PHOTOS/vehicles/x-trail/gallery/img_xtrail_01.jpg',
    source_url: 'https://www.nissan-global.com/EN/PHOTOS/vehicles/x-trail/',
    description: 'Compact SUV with AWD and spacious cargo.',
    tags: ['suv', 'awd', 'automatic'],
  },
  {
    id: 'seed-ug-0048',
    listing_type: 'rent',
    make: 'Nissan',
    model: 'Note',
    year: 2019,
    trim: 'e-Power',
    price: 90000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Gulu, Uganda',
    availability: true,
    image_url: 'https://www.nissan-global.com/EN/PHOTOS/vehicles/note_e-power/gallery/img_note_epwr_01.jpg',
    source_url: 'https://www.nissan-global.com/EN/PHOTOS/vehicles/note_e-power/',
    description: 'Electric-drive hybrid hatchback, very economical.',
    tags: ['hatchback', 'hybrid', 'compact'],
  },
  {
    id: 'seed-ug-0049',
    listing_type: 'sale',
    make: 'Mercedes-Benz',
    model: 'C-Class',
    year: 2016,
    trim: 'C200',
    price: 115000000,
    currency: 'UGX',
    mileage_km: 125000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.mercedes-benz.com/en/_jcr_content/root/slider/sliderchild/slide_0/image/MQ6-6-image-2016-mercedes-c-class-01.jpeg',
    source_url: 'https://www.mercedes-benz.com/en/vehicles/passenger-cars/c-class/',
    description: 'Premium sedan with luxury interior.',
    tags: ['sedan', 'luxury', 'automatic'],
  },
  {
    id: 'seed-ug-0050',
    listing_type: 'rent',
    make: 'Mercedes-Benz',
    model: 'GLC',
    year: 2019,
    trim: 'GLC250',
    price: 260000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.mercedes-benz.com/en/_jcr_content/root/slider/sliderchild/slide_0/image/MQ6-0-image-mercedes-glc-2019.jpeg',
    source_url: 'https://www.mercedes-benz.com/en/vehicles/passenger-cars/glc/',
    description: 'Luxury compact SUV with refined ride.',
    tags: ['suv', 'luxury', 'automatic'],
  },
  {
    id: 'seed-ug-0051',
    listing_type: 'sale',
    make: 'BMW',
    model: '5 Series',
    year: 2015,
    trim: '520i',
    price: 98000000,
    currency: 'UGX',
    mileage_km: 148000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.bmw.com/content/dam/bmw/common/all-models/5-series/sedan/2015/images/bmw-5series-sedan-exterior-01.jpg',
    source_url: 'https://www.bmw.com/en/all-models/5-series/sedan/2015.html',
    description: 'Executive sedan with luxury and performance.',
    tags: ['sedan', 'luxury', 'automatic'],
  },
  {
    id: 'seed-ug-0052',
    listing_type: 'sale',
    make: 'Audi',
    model: 'Q5',
    year: 2018,
    trim: '45 TFSI',
    price: 145000000,
    currency: 'UGX',
    mileage_km: 97000,
    location: 'Entebbe, Uganda',
    availability: true,
    image_url: 'https://www.audi.com/content/dam/gbp2/consumer/models/q5/my2018/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.audi.com/en/models/q5/q5.html',
    description: 'Premium mid-size SUV with advanced Quattro AWD.',
    tags: ['suv', 'luxury', 'awd'],
  },
  {
    id: 'seed-ug-0053',
    listing_type: 'rent',
    make: 'Audi',
    model: 'A4',
    year: 2019,
    trim: '35 TFSI',
    price: 190000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.audi.com/content/dam/gbp2/consumer/models/a4/my2019/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.audi.com/en/models/a4/a4-sedan.html',
    description: 'Premium sedan with sharp handling.',
    tags: ['sedan', 'luxury', 'automatic'],
  },
  {
    id: 'seed-ug-0054',
    listing_type: 'sale',
    make: 'Mitsubishi',
    model: 'Outlander',
    year: 2017,
    trim: '2.4 GT',
    price: 62000000,
    currency: 'UGX',
    mileage_km: 108000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.mitsubishi-motors.com/en/products/outlander/img/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.mitsubishi-motors.com/en/products/outlander/',
    description: '7-seater crossover SUV with efficient engine.',
    tags: ['suv', '7-seater', 'automatic'],
  },
  {
    id: 'seed-ug-0055',
    listing_type: 'rent',
    make: 'Mitsubishi',
    model: 'L200',
    year: 2018,
    trim: 'Triton',
    price: 170000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Gulu, Uganda',
    availability: true,
    image_url: 'https://www.mitsubishi-motors.com/en/products/l200/img/gallery/exterior-01.jpg',
    source_url: 'https://www.mitsubishi-motors.com/en/products/l200/',
    description: 'Durable diesel pickup for work and adventure.',
    tags: ['pickup', 'diesel', '4x4'],
  },
  {
    id: 'seed-ug-0056',
    listing_type: 'sale',
    make: 'Peugeot',
    model: '3008',
    year: 2018,
    trim: 'GT Line',
    price: 68000000,
    currency: 'UGX',
    mileage_km: 99000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.peugeot.com/content/dam/peugeot/master/models/3008/2018/gallery/exterior/exterior-01.jpg',
    source_url: 'https://www.peugeot.com/models/3008/',
    description: 'Stylish compact SUV with premium cabin.',
    tags: ['suv', 'compact', 'automatic'],
  },
  {
    id: 'seed-ug-0057',
    listing_type: 'rent',
    make: 'Renault',
    model: 'Duster',
    year: 2019,
    trim: 'TechRoad',
    price: 120000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Mbarara, Uganda',
    availability: true,
    image_url: 'https://group.renault.com/wp-content/uploads/2019/02/duster-exterior-01.jpg',
    source_url: 'https://group.renault.com/en/our-vehicles/duster/',
    description: 'Affordable 4x4 SUV perfect for Ugandan terrain.',
    tags: ['suv', '4x4', 'compact'],
  },
  {
    id: 'seed-ug-0058',
    listing_type: 'sale',
    make: 'Ford',
    model: 'Edge',
    year: 2016,
    trim: 'SEL',
    price: 78000000,
    currency: 'UGX',
    mileage_km: 130000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://www.ford.com/cmslibs/content/dam/brand_ford/en_us/brand/cars/edge/2016/highlights/2016_edge_exterior_01.jpg',
    source_url: 'https://www.ford.com/suvs-crossovers/edge/',
    description: 'Mid-size crossover SUV with strong performance.',
    tags: ['suv', 'automatic', 'mid-size'],
  },
  {
    id: 'seed-ug-0059',
    listing_type: 'rent',
    make: 'Chevrolet',
    model: 'Trailblazer',
    year: 2020,
    trim: 'LT',
    price: 230000,
    currency: 'UGX',
    mileage_km: null,
    location: 'Entebbe, Uganda',
    availability: true,
    image_url: 'https://www.chevrolet.com/content/dam/chevrolet/na/us/english/index/suvs/2020-trailblazer/gallery/01-images/trailblazer-exterior-01.jpg',
    source_url: 'https://www.chevrolet.com/suvs/trailblazer',
    description: 'Modern compact SUV with sporty styling.',
    tags: ['suv', 'compact', 'automatic'],
  },
  {
    id: 'seed-ug-0060',
    listing_type: 'sale',
    make: 'Toyota',
    model: 'Camry',
    year: 2017,
    trim: 'SE',
    price: 68000000,
    currency: 'UGX',
    mileage_km: 102000,
    location: 'Kampala, Uganda',
    availability: true,
    image_url: 'https://global.toyota/en/newsroom/toyota/24354720/001.jpg',
    source_url: 'https://global.toyota/en/newsroom/toyota/24354720/',
    description: 'Comfortable, reliable full-size sedan.',
    tags: ['sedan', 'automatic', 'family'],
  },
]

const now = new Date().toISOString()

const listings = rawListings.map((item) => {
  const isRent = item.listing_type === 'rent'
  return {
    slug: item.id,
    title: `${item.make} ${item.model} ${item.year}`,
    description: item.description,
    price_per_day: isRent ? item.price : null,
    price_buy: isRent ? null : item.price,
    location: item.location,
    year: item.year,
    images: item.image_url ? [item.image_url] : [],
    is_for_rent: isRent,
    created_at: now,
  }
})

async function seed() {
  try {
    const { error, data } = await supabase.from('cars').upsert(listings, { onConflict: 'slug' }).select()
    if (error) {
      console.error('Seed error:', error.message || error)
      process.exit(1)
    }
    console.log(`Seeded ${data.length} listings (cars table).`)
  } catch (err) {
    console.error('Unexpected error during seeding:', err)
    process.exit(1)
  }
}

seed()
